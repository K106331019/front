(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["flower"],{1307:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content-all d-flex flex-sm-column justify-content-sm-center align-items-sm-center pb-5"},[r("b-row",{staticClass:"w-100 p-5 m-5"},[r("b-col",{staticClass:"d-flex justify-content-center",attrs:{sm:"12",lg:"6"}},[r("img",{attrs:{src:t.image,width:"600"}})]),r("b-col",{staticClass:"d-flex flex-column  w-100",attrs:{sm:"12",lg:"6"}},[r("b-breadcrumb",{staticClass:"bg-transparent"},[r("b-breadcrumb-item",{staticClass:"path-text",attrs:{href:"/"}},[t._v("首頁")]),r("b-breadcrumb-item",{staticClass:"path-text",attrs:{href:"#/flower"}},[t._v(t._s(this.category.big))]),r("b-breadcrumb-item",{staticClass:"path-text",attrs:{href:"#/flower"}},[t._v(t._s(this.category.small))]),r("b-breadcrumb-item",{staticClass:"text-dark",attrs:{active:""}},[t._v(t._s(this.name))])],1),r("h1",{staticClass:"product-name"},[t._v(t._s(t.name))]),r("span",{staticClass:"mt-5 mb-5",staticStyle:{"white-space":"pre"}},[t._v(t._s(t.description))]),r("h4",{staticClass:"mt-5"},[t._v("NT$"+t._s(t.price))]),r("b-form-spinbutton",{staticClass:"w-50 mt-4",attrs:{id:"demo-sb",min:"0",max:"100"},model:{value:t.quantity,callback:function(e){t.quantity=t._n(e)},expression:"quantity"}}),r("b-button",{staticClass:"w-50 mt-4 btn-color",on:{click:t.addCart}},[t._v("加入購物車")]),r("div",{staticClass:"w-50 d-flex justify-content-center align-items-center"},[r("b-button",{staticClass:"text-dark btn-love",on:{click:t.likes}},[t.user.likes.filter((function(e){return e.products===t.$route.params.id})).length?r("b-icon",{staticClass:"mx-auto",attrs:{icon:"suit-heart-fill"}}):r("b-icon",{staticClass:"mx-auto",attrs:{icon:"heart"}})],1),r("p",{staticClass:"mt-3"},[t._v("加入追蹤名單")])],1)],1)],1)],1)},s=[],n=r("1da1"),i=(r("c740"),r("a434"),r("b0c0"),r("a4d3"),r("e01a"),r("96cf"),{data:function(){return{name:"",price:0,description:"",image:"",quantity:0,category:{big:"",small:""}}},methods:{addCart:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch("user/addCart",{product:t.$route.params.id,quantity:t.quantity});case 1:case"end":return e.stop()}}),e)})))()},likes:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!e.user.isLogin){t.next=7;break}return t.next=4,e.api.patch("/users/like/"+e.user._id,{_id:e.$route.params.id},{headers:{authorization:"Bearer "+e.user.token}});case 4:r=t.sent,a=r.data,a.result.isAdd?(e.user.likes.push(a.result.newLike),console.log(e.user.likes)):(s=e.user.likes.findIndex((function(t){return t.products===e.$route.params.id})),e.user.likes.splice(s,1),console.log(e.user.likes));case 7:t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.api.get("/products/"+t.$route.params.id);case 3:r=e.sent,a=r.data,t.name=a.result.name,t.price=a.result.price,t.description=a.result.description,t.image=a.result.image,t.category=a.result.category,document.title="".concat(t.name),console.log(t.user._id),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),t.$router.push("/");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()}}),c=i,o=r("2877"),l=Object(o["a"])(c,a,s,!1,null,null,null);e["default"]=l.exports},1393:function(t,e,r){"use strict";var a=r("23e7"),s=r("857a"),n=r("af03");a({target:"String",proto:!0,forced:n("big")},{big:function(){return s(this,"big","","")}})},4043:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-all"},[a("b-row",{staticClass:"w-100 mt-5 mt-sm-5 pt-sm-5"},[a("b-col",{staticClass:"mx-auto d-flex justify-content-start ",attrs:{lg:"3",sm:"12",md:"12"}},[a("b-list-group",{staticClass:"w-25 d-flex justify-content-start flex-lg-column mx-lg-auto mx-md-auto mt-5 mt-lg-0",attrs:{horizontal:""}},[a("b-list-group-item",{staticClass:"menu",attrs:{button:""},on:{click:function(e){t.filter=""}}},[t._v("全部")]),a("b-list-group-item",{staticClass:"menu",attrs:{button:""},on:{click:function(e){t.filter="乾燥花束"}}},[t._v("花束")]),a("b-list-group-item",{staticClass:"menu",attrs:{button:""},on:{click:function(e){t.filter="乾燥花盆栽"}}},[t._v("盆花")]),a("b-list-group-item",{staticClass:"menu",attrs:{button:""},on:{click:function(e){t.filter="玻璃花盅"}}},[t._v("花盅")])],1)],1),a("b-col",{staticClass:"d-flex pl-4 d-flex justify-content-center",attrs:{lg:"9",sm:"12",md:"12"}},[a("b-row",{staticClass:"w-100 mx-auto mt-sm-5 mt-lg-0"},[a("b-col",{attrs:{sm:"12",lg:"8",md:"6"}},[a("img",{staticClass:"flower-title-img",attrs:{src:r("9bb9"),width:"900"}})]),a("b-col",{staticClass:"my-lg-auto mt-sm-5",attrs:{sm:"12",lg:"4",md:"6"}},[a("h1",{staticClass:"text-center flower-title"},[t._v("Flower")]),a("p",{staticClass:"text-center"},[t._v("那份感動，將永遠留存著")])])],1)],1)],1),a("b-row",{staticClass:"w-75 mt-5 card-content"},t._l(t.flowerItem,(function(t){return a("b-col",{key:t._id,attrs:{sm:"12",lg:"4"}},[a("ProductCard",{attrs:{product:t}})],1)})),1)],1)},s=[],n=r("1da1"),i=(r("96cf"),r("4de4"),r("d3b7"),r("c96a"),r("1393"),r("e915")),c={components:{ProductCard:i["a"]},data:function(){return{products:[],flower:[],filter:""}},computed:{flowerItem:function(){var t=this;return this.flower.filter((function(e){return""===t.filter||e.category.small===t.filter}))}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.api.get("/products");case 3:r=e.sent,a=r.data,t.products=a.result,s=t.products.filter((function(t){return"乾燥花"===t.category.big})),t.flower=s,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),t.$swal({icon:"error",title:"錯誤",text:"取得商品失敗"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}},o=c,l=r("2877"),u=Object(l["a"])(o,a,s,!1,null,null,null);e["default"]=u.exports},"857a":function(t,e,r){var a=r("e330"),s=r("1d80"),n=r("577e"),i=/"/g,c=a("".replace);t.exports=function(t,e,r,a){var o=n(s(t)),l="<"+e;return""!==r&&(l+=" "+r+'="'+c(n(a),i,"&quot;")+'"'),l+">"+o+"</"+e+">"}},"9bb9":function(t,e,r){t.exports=r.p+"img/flower.e0f8f3a3.jpg"},a434:function(t,e,r){"use strict";var a=r("23e7"),s=r("da84"),n=r("23cb"),i=r("5926"),c=r("07fa"),o=r("7b0b"),l=r("65f0"),u=r("8418"),d=r("1dde"),f=d("splice"),m=s.TypeError,p=Math.max,b=Math.min,g=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var r,a,s,d,f,h,x=o(this),w=c(x),C=n(t,w),y=arguments.length;if(0===y?r=a=0:1===y?(r=0,a=w-C):(r=y-2,a=b(p(i(e),0),w-C)),w+r-a>g)throw m(v);for(s=l(x,a),d=0;d<a;d++)f=C+d,f in x&&u(s,d,x[f]);if(s.length=a,r<a){for(d=C;d<w-a;d++)f=d+a,h=d+r,f in x?x[h]=x[f]:delete x[h];for(d=w;d>w-a+r;d--)delete x[d-1]}else if(r>a)for(d=w-a;d>C;d--)f=d+a-1,h=d+r-1,f in x?x[h]=x[f]:delete x[h];for(d=0;d<r;d++)x[d+C]=arguments[d+2];return x.length=w-a+r,s}})},af03:function(t,e,r){var a=r("d039");t.exports=function(t){return a((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b0c0:function(t,e,r){var a=r("83ab"),s=r("5e77").EXISTS,n=r("e330"),i=r("9bf2").f,c=Function.prototype,o=n(c.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=n(l.exec),d="name";a&&!s&&i(c,d,{configurable:!0,get:function(){try{return u(l,o(this))[1]}catch(t){return""}}})},c740:function(t,e,r){"use strict";var a=r("23e7"),s=r("b727").findIndex,n=r("44d2"),i="findIndex",c=!0;i in[]&&Array(1)[i]((function(){c=!1})),a({target:"Array",proto:!0,forced:c},{findIndex:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),n(i)},c96a:function(t,e,r){"use strict";var a=r("23e7"),s=r("857a"),n=r("af03");a({target:"String",proto:!0,forced:n("small")},{small:function(){return s(this,"small","","")}})},e01a:function(t,e,r){"use strict";var a=r("23e7"),s=r("83ab"),n=r("da84"),i=r("e330"),c=r("1a2d"),o=r("1626"),l=r("3a9b"),u=r("577e"),d=r("9bf2").f,f=r("e893"),m=n.Symbol,p=m&&m.prototype;if(s&&o(m)&&(!("description"in p)||void 0!==m().description)){var b={},g=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),e=l(p,this)?new m(t):void 0===t?m():m(t);return""===t&&(b[e]=!0),e};f(g,m),g.prototype=p,p.constructor=g;var v="Symbol(test)"==String(m("test")),h=i(p.toString),x=i(p.valueOf),w=/^Symbol\((.*)\)[^)]+$/,C=i("".replace),y=i("".slice);d(p,"description",{configurable:!0,get:function(){var t=x(this),e=h(t);if(c(b,t))return"";var r=v?y(e,7,-1):C(e,w,"$1");return""===r?void 0:r}}),a({global:!0,forced:!0},{Symbol:g})}},e915:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/flowerProduct/"+t.product._id}},[r("b-card",{staticStyle:{"box-shadow":"none"},attrs:{"img-src":t.product.image,"img-top":""}},[r("b-card-body",[r("b-card-title",{staticClass:"text-dark text-center"},[t._v(" "+t._s(t.product.name)+" ")]),r("b-card-sub-title",{staticClass:"text-center"},[t._v(" "+t._s("$"+t.product.price))])],1)],1)],1)],1)},s=[],n={props:{product:{type:Object,required:!0}}},i=n,c=r("2877"),o=Object(c["a"])(i,a,s,!1,null,null,null);e["a"]=o.exports}}]);
//# sourceMappingURL=flower.ea33b0b8.js.map