(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orders"],{"159d":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content-all"},[r("b-row",{staticClass:"w-75 mx-auto mb-2"},[r("b-col",{attrs:{lg:"4"}},[r("p",{staticClass:"cart-list"},[t._v(" 01 "),r("span",[t._v("購物車確認")])])]),r("b-col",{attrs:{lg:"4"}},[r("p",{staticClass:"cart-list"},[t._v(" 02 "),r("span",[t._v("訂單付款方式")])])]),r("b-col",{attrs:{lg:"4"}},[r("p",{staticClass:"cart-list"},[t._v(" 03 "),r("span",[t._v("完成訂單")])]),r("div",{staticClass:"list-under"})])],1),r("div",{staticClass:"w-50 vh-50 bg-light mx-auto mt-5 p-4"},[r("b-row",[r("b-col",{staticClass:"d-flex",attrs:{lg:"12"}},[r("p",[t._v("訂單編號:")]),r("p",{staticClass:"ml-2"},[t._v(t._s(t.orders._id))])])],1),r("b-row",{staticClass:"mt-4"},[r("b-col",[r("b-table",{staticClass:"table table-bordered finish-table",attrs:{items:t.orders.products,fields:t.product},scopedSlots:t._u([{key:"cell(products)",fn:function(e){return[t._v(" "+t._s(e.item.product.name)+" ")]}},{key:"cell(price)",fn:function(e){return[t._v(" NT$ "+t._s(e.item.product.price)+" ")]}}])})],1)],1),r("b-row",[r("b-col",[r("b-card-group",{attrs:{deck:""}},[r("b-card",{attrs:{header:"訂單明細"}},[r("b-list-group",{attrs:{horizontal:""}},[r("b-list-group-item",{staticClass:"w-25 bg-transparent border-none",attrs:{href:"#"}},[t._v("日期")]),r("b-list-group-item",{staticClass:"w-25 bg-transparent",attrs:{href:"#"}},[t._v("訂購人")]),r("b-list-group-item",{staticClass:"w-25 bg-transparent",attrs:{href:"#"}},[t._v("付款方式")]),r("b-list-group-item",{staticClass:"w-25 bg-transparent",attrs:{href:"#"}},[t._v("總金額")])],1),r("b-list-group",{attrs:{horizontal:""}},[r("b-list-group-item",{staticClass:"w-25 bg-transparent",attrs:{href:"#"}},[t._v(t._s(new Date(t.orders.date).toLocaleDateString("zh-tw")))]),r("b-list-group-item",{staticClass:"w-25 bg-transparent",attrs:{href:"#"}},[t._v(t._s(t.orders.name))]),r("b-list-group-item",{staticClass:"w-25 bg-transparent",attrs:{href:"#"}},[t._v(t._s(t.orders.pay))]),r("b-list-group-item",{staticClass:"w-25 bg-transparent",attrs:{href:"#"}},[t._v(t._s(t.total))])],1)],1)],1)],1)],1),r("b-row",{staticClass:"mt-4"},[r("b-col",{staticClass:"text-right"},[r("b-button",{staticClass:"btn-color text-right",attrs:{to:"/"}},[t._v("繼續購物")])],1),r("b-col",[r("b-button",{staticClass:"btn-color",attrs:{to:"/orderDetails"}},[t._v("訂單查詢")])],1)],1)],1)],1)},s=[],l=r("1da1"),n=(r("96cf"),r("d3b7"),{data:function(){return{orders:[],total:0,product:[{key:"products",label:"商品"},{key:"quantity",label:"數量"},{key:"price",label:"小計"}],detail:[{key:"date",label:"日期"},{key:"name",label:"訂購人"},{key:"pay",label:"付款方式"},{label:"總金額"}]}},created:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.api.get("/orders/me",{headers:{authorization:"Bearer "+t.user.token}});case 3:r=e.sent,a=r.data,t.orders=a.result,t.total=a.result.products.reduce((function(t,e){return t+e.quantity*e.product.price}),0),console.log(t.orders),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),t.$swal({icon:"error",title:"失敗",text:"取得訂單失敗"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}}),i=n,o=r("2877"),c=Object(o["a"])(i,a,s,!1,null,null,null);e["default"]=c.exports},"35aa":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content-all"},[r("h3",{staticClass:"text-center"},[t._v("歷史訂單")]),r("b-table",{staticClass:"w-75 mx-auto border detail-table mt-5",attrs:{items:t.orders,fields:t.fields},scopedSlots:t._u([{key:"cell(date)",fn:function(e){return[t._v(" "+t._s(new Date(e.item.date).toLocaleDateString("zh-tw"))+" ")]}},{key:"cell(products)",fn:function(e){return[r("ul",t._l(e.item.products,(function(e){return r("li",{key:e._id,staticStyle:{"list-style-type":"none"}},[t._v(" "+t._s(e.product.name)+" X "+t._s(e.quantity)+" ")])})),0)]}}])})],1)},s=[],l=r("1da1"),n=(r("96cf"),{data:function(){return{orders:[],fields:[{key:"_id",label:"訂單編號"},{key:"date",label:"日期"},{key:"products",label:"商品"}]}},created:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.api.get("/orders/details",{headers:{authorization:"Bearer "+t.user.token}});case 3:r=e.sent,a=r.data,t.orders=a.result,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.$swal({icon:"error",title:"失敗",text:"取得訂單失敗"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}),i=n,o=r("2877"),c=Object(o["a"])(i,a,s,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=orders.c154237e.js.map